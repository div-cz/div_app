{% extends "movies/base.html" %}
{% load i18n %}
{% load ratings %}
{% load static %}
{% load cache %}

{% block title %}{{ genre.genrenamecz  }} filmy na DIV.cz{% endblock %}

{% block meta %}
    <style>
        .rating {
            position: relative;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-top: 0;
            margin-right: 0;
            padding: 0;
            box-shadow: 0px 8px 16px rgb(147 147 147);
        }

        .rating::before {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 44px;
            height: 44px;
            background: #444444;
            border-radius: 50%;
            z-index: 2;
            margin: 0;
        }

        .rating::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 50px;
            height: 50px;
            background: conic-gradient(
                var(--gradient-color, #0a0) 0%,
                var(--gradient-color, #0a0) var(--gradient-value, 50%),
                #777777 var(--gradient-value, 50%)
            );
            border-radius: 50%;
            z-index: 1;
            margin: 0;
        }

        .rating-inner {
            position: relative;
            z-index: 3;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
            font-size: 16px;
            font-weight: bold;
            /* margin-top: 10px;
            margin-right: -10px; */
        }

        .rating-inner span {
            font-size: 10px;
            margin-left: 2px;
            color: #ffd700;
        }

        .rating:is(.dark *) {
            box-shadow: none;
        }

        .title-rating {
            display: flex; 
            justify-content: end; 
            width: 100%; 
            margin-top: -50px;
        }

    </style>
{% endblock %}

{% block content %}

<div class="container">
    <h2 class="mb-4 px-4">Seznam filmů žánru: {{ genre.genrenamecz  }}</h2>
    <div class="row">
        <!-- LEVÁ STRANA -->
        <div class="left-side">
            <!-- Seznam filmů -->
            <div class="genre-list">
                {% for movie in movies_list_30_genre %}
                    <div class="card">
                        <a href="/film/{{ movie.url }}">
                            {% if movie.img == "noimg.png" %}
                                <img src="/static/img/nomovie_400.jpg" alt="{{ movie.titlecz }}" style="border-radius: .5rem .5rem 0 0;">
                                {% else %}
                                <img src="https://www.themoviedb.org/t/p/w400{{ movie.img }}" alt="{{ movie.titlecz }}" style="border-radius: .5rem .5rem 0 0;">
                            {% endif %}
                        </a>
                        
                        <div class="card-body" style="border-radius: 0 0 .5rem .5rem !important;">
                            <!-- hodnocení -->
                            <div class="title-rating">
                                <div class="rating" data-rating="{{ movie.average_rating }}">
                                    <div class="rating-inner">
                                        {{ movie.average_rating }}%
                                    </div>
                                </div>
                            </div>
                            
                            <h4 class="card-title"><a href="/film/{{ movie.url }}">{{ movie.titlecz }}</a></h4>
                            <p class="card-text">{{ movie.description }}</p>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>

        <!-- Pravá strana -->
        <div class="right-side">
            <!-- ŽÁNRY -->
            <div class="card">
                <div class="card-body">
                    <h3 class="card-title after-h3">Žánry</h3>
                    <div>
                        <a href="/filmy/akcni">Akční</a> |
                        <a href="/filmy/animovany">Animovaný</a> |
                        <a href="/filmy/dobrodruzny">Dobrodružný</a> |
                        <a href="/filmy/dokumentarni">Dokumentární</a> |
                        <a href="/filmy/drama">Drama</a> |
                        <a href="/filmy/fantasy">Fantasy</a> |
                        <a href="/filmy/historicky">Historický</a> |
                        <a href="/filmy/horor">Horor</a> |
                        <a href="/filmy/hudebni">Hudební</a> |
                        <a href="/filmy/komedie">Komedie</a> |
                        <a href="/filmy/krimi">Krimi</a> |
                        <a href="/filmy/mysteriozni">Mysteriózní</a> |
                        <a href="/filmy/rodinny">Rodinný</a> |
                        <a href="/filmy/romanticky">Romantický</a> |
                        <a href="/filmy/sci-fi">Sci-fi</a> |
                        <a href="/filmy/televizni-film">TV film</a> |
                        <a href="/filmy/thriller">Thriller</a> |
                        <a href="/filmy/valecny">Válečný</a> |
                        <a href="/filmy/western">Western</a>
                    </div>
                </div>
            </div>

            <!-- ROKY -->
            <div class="card">
                <div class="card-body">
                    <h3 class="card-title after-h3">Roky</h3>
                    <div>
                        <a href="/filmy/2024">2024</a> |
                        <a href="/filmy/2023">2023</a> |
                        <a href="/filmy/2022">2022</a> |
                        <a href="/filmy/2021">2021</a> |
                        <a href="/filmy/2020">2020</a> |
                        <a href="/filmy/2019">2019</a> |
                        <a href="/filmy/2018">2018</a> |
                        <a href="/filmy/2017">2017</a> |
                        <a href="/filmy/2016">2016</a> |
                        <a href="/filmy/2015">2015</a> |
                        <a href="/filmy/2014">2014</a> |
                        <a href="/filmy/2013">2013</a> |
                        <a href="/filmy/2012">2012</a> |
                        <a href="/filmy/2011">2011</a> |
                        <a href="/filmy/2010">2010</a> |
                        <a href="/filmy/2009">2009</a> |
                        <a href="/filmy/2008">2008</a> |
                        <a href="/filmy/2007">2007</a> |
                        <a href="/filmy/2006">2006</a> |
                        <a href="/filmy/2005">2005</a> |
                        <a href="/filmy/2004">2004</a> |
                        <a href="/filmy/2003">2003</a> |
                        <a href="/filmy/2002">2002</a> |
                        <a href="/filmy/2001">2001</a> |
                        <a href="/filmy/2000">2000</a> |
                        <a href="/filmy/1999">1999</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}