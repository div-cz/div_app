<!DOCTYPE html>
<html lang="cs">
<head>


    {% include "inc/head.html" %}


<link rel="apple-touch-icon" href="/static/img/site/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="57x57" href="/static/img/site/apple/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="72x72" href="/static/img/site/apple/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/static/img/site/apple/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/static/img/site/apple/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/static/img/site/apple/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/static/img/site/apple/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/static/img/site/apple/apple-touch-icon-152x152.png">

<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>



<meta name="msapplication-square70x70logo" content="/static/img/site/microsoft/div_70.png">
<meta name="msapplication-square150x150logo" content="/static/img/site/microsoft/div_150.png">
<meta name="msapplication-wide310x150logo" content="/static/img/site/microsoft/div_310x150.png">
<meta name="msapplication-square310x310logo" content="/static/img/site/microsoft/div_310.png">

<meta name="msapplication-TileImage" content="/static/img/site/microsoft/div_152.png">
<meta name="msapplication-TileColor" content="#FFFFFF"> 

<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">



<title>DIV.cz | Databáze filmů, her a knih DIV</title>



<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick-theme.css"/>
<script src="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.min.js"></script>
<style>

/* Světlý režim je výchozí */
main {
    background-color: #fff;
    color: #f00;
}

/* Styly pro tmavý režim */
@media (prefers-color-scheme: dark) {
    main {
        background-color: #333;
        color: #fff;
    }
}

        body {
            background-color: #f6f6f6;
            color: #333;
        }
        main {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
        "Roboto", "Oxygen", "Ubuntu", "Helvetica Neue", Arial, sans-serif;
        color:#333;background-color:#f6f6f6;text-shadow: 1px 1px 3px #ccc; 
        }
        .card {
            background-color: #fff;
            color: #000;
        }


.card2 {
    height: 350px;
    border: 1px solid #bbb;box-shadow: 2px 2px 3px #bbb;
}
/*
a {color: #E31E24 !important}
a:hover {color: #A52B21 !important}*/



.banner {
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* Rozloží obsah mezi horní a spodní částí */
    align-items: flex-start;
    background-size: cover;
    background-position: center;
    width: 100%;
    max-width: 1200px;
    height: 300px;
    margin: 0 auto;
    position: relative; /* Umožní absolutní pozicování vnitřních prvků */
}

.banner h1 {
    margin: 10px;
    background: rgba(255, 255, 255, 0.5);
    padding: 5px 10px;
    max-width: calc(100% - 20px);
}

.banner-caption {
    position: absolute; /* Absolutní pozicování v rámci banneru */
    bottom: 10px; /* Dolní okraj */
    right: 10px; /* Pravý okraj */
    background: rgba(0, 0, 0, 0.5);
    color: rgba(0, 0, 0, 0.8);
    padding: 15px 20px;
    border: 1px solid rgba(255, 255, 255, 0.8);    
    font-size: 1.9rem;
}




.carousel-slide {
    position: relative;
    text-align: center;
}
.carousel-slide img {
    width: 100%;
    object-fit: cover; /* Zajistí, že obrázek pokryje celou oblast bez deformace */
    height: 300px; /* Pevně nastavíme výšku obrázků */
}
.overlay {
    position: absolute;
    bottom: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
    color: white;
    text-shadow: 1px 1px 3px #ccc;
    width: 100%;
    padding: 10px;
    text-align: left;
}
.article-section {
    padding: 0 15px;
}
.article-item {
    display: flex;
    margin-bottom: 10px;
    /*background: #fff;*/
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
.article-thumbnail {
    width: 100px;
    height: 150px;
    margin:5px;
}
.article-content {
    padding: 10px;
    flex: 1;
}
.container-fluid {
    max-width: 1200px; /* Omezuje max šířku obsahu */
    margin: 0 auto; /* Centruje obsah na stránce */
}



@media (max-width: 768px) {
    .banner {
        flex-direction: column;
    }

    .banner-caption {
        position: static; /* Zruší absolutní pozicování */
        align-self: center; /* Zarovná na střed */
        width: 100%;
        text-align: center;
        margin-top: 10px; /* Přidá mezery mezi H1 a caption */
    }
        .carousel-side-image {
        display: block;
    }
    .carousel-slide img {
    width: 100%;
    object-fit: cover; /* Zajistí, že obrázek pokryje celou oblast bez deformace */
    height: 200px; /* Pevně nastavíme výšku obrázků */
}
}




</style>

</head>
<body>

    {% include "inc/navbar.html" %}


    
<main>
    <section class="container my-5">
        <div class="row">
            <div class="col-lg-8">
                <div id="image-slider" class="carousel">
                    {% for movie in movies_carousel %}
                    <div class="carousel-slide"><a href="/film/{{ movie.url }}">
                        <img src="https://www.themoviedb.org/t/p/w1066_and_h600_bestv2{{ movie.img }}" alt="{{ movie.title }}">
                        </a>
                        <div class="overlay">
                            <h2>{{ movie.title }}</h2>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>


            <div class="col-lg-4 article-section">
                {% for article in articles %}
                <div class="article-item">
                    <img class="article-thumbnail" src="https://image.tmdb.org/t/p/w300_and_h450_bestv2{{ article.img }}');">
                    <div class="article-content" style="margin-top:-10px">
                        <a href="{{ article.url }}">{{ article.title }}</a>
                        <p>{{ article.perex|truncatewords:9 }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
<script>
$(document).ready(function(){
    $('#image-slider').slick({
        infinite: true,
        slidesToShow: 1,
        slidesToScroll: 1,
        autoplay: true,
        autoplaySpeed: 3000,
        dots: true,
        arrows: false, // Skryjeme šipky, pokud nejsou potřeba
        fade: true,
        cssEase: 'linear'
    });
});
</script>








<section class="container my-5">
    <div class="row">
        <div class="col-lg-8">


<!--<h2 class="mb-4">Poslední články</h2>-->
<!-- Sekce článků 
<h2 class="mb-4">Seznam článků</h2>
<div class="row">
    {% for article in articles %}
    <div class="col-md-6 mb-3">
        <div class="card">
            <img src="https://image.tmdb.org/t/p/w300{{ article.img }}" class="card-img-top" alt="{{ article.title }}">
            <div class="card-body">
                <h5 class="card-title">{{ article.title }}</h5>
                <p class="card-text">{{ article.perex|truncatewords:20 }}</p>
                <a href="{{ article.url }}" class="btn btn-primary">Více informací</a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>-->



<!--{% if request.user.is_superuser %}
<p>Já jsem superuser, už jsem vyhrál! :D</p>
{% else %}
{% endif %}-->


{% if user.is_authenticated %}
{% else %}
<div class="row">
    <div class="col-12">
        <div class="card mb-4 p-4">
<p>DIV.cz je stránka, která propojuje knihy, filmy a hry skrze postavy, lokality a další prvky.</p>
        </div>
    </div>
</div>
{% endif %}



    


            <!-- Sekce filmů -->
            <h2 class="mb-4"><a href="https://div.cz/seznam-filmu">Seznam filmů</a>, <a href="/knihy/">knih</a> a her</h2>
            <div class="row">
                {% for movie in movies_list_6 %}
                <a href="/film/{{ movie.url }}"><div class="col-md-4 col-sm-6 col-6 mb-3">
                    <div class="card card2">
                        <img src="https://www.themoviedb.org/t/p/w1066_and_h600_bestv2/{{ movie.img }}" class="card-img-top" alt="{{ movie.title }}">
                        <div class="card-body">
                            <h5 class="card-title"><a href="/film/{{ movie.url }}">{{ movie.title }}</a></h5>
                            <p class="card-text">{{ movie.description|truncatewords:10 }}</p>
                            <!--<a href="/film/{{ movie.url }}" class="btn btn-primary">{{ movie.title|truncatewords:3 }}</a>-->
                        </div>
                    </div>
                </div></a>
                {% endfor %}
            </div>
 
            <!-- Sekce nejnovějších uživatelských komentářů k filmům -->
          <h2 class="mb-4">Nejnovější filmové komentáře</h2>
          <div class="row">
            {% for comment in movies_comments_9 %}
            <div class="col-md-4 col-sm-6 col-6 mb-3">
              <div class="card">
                <div class="card-body">
                  <p class="card-text">
                    Komentář u filmu:<br>
                    <a href="/film/{{ comment.movieid__url }}">{{ comment.movieid__titlecz }}</a>
                  </p>
                  <p class="card-text"><i>{{ comment.comment|truncatewords:10 }}</i></p>
                  Uživatel: <a href="/uzivatel/{{ comment.user }}">{{ comment.user__username }}</a>
                </div>
              </div>
            </div>
            {% endfor %}
            </div>





            <!-- Sekce uživatelů -->
            <h2 class="mb-4">Nejaktivnější uživatelé</h2>
            <div class="row">
                {% for user in users_list_4 %}
                <div class="col-md-4 col-sm-6 col-6 mb-3">
                    <div class="card">
                        <img src="https://div.cz/static/img/creator/noperson.svg" class="card-img-top" alt="{{ user.username }}" style="max-width: 100px; margin: 0 auto; display: block;">
                        <div class="card-body">
                            <h5 class="card-title">
                                <a href="/uzivatel/{{ user.id }}">{{ user.username }}</a>
                            </h5>
                            <p class="card-text">
                                Počet hodnocení: {{ user.rating_count }}
                            </p>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
{% comment %}
            <!-- Sekce výročí osobností -->
            {<h2 class="mb-4">Výročí osobností</h2>
            <div class="row">
                {% for creator in creators_list_8 %}
                <div class="col-lg-3 col-md-3 col-sm-6 col-6 mb-3">
                    <div class="card">
                        <img src="https://www.themoviedb.org/t/p/w1066_and_h600_bestv2/{{ creator.img }}" class="card-img-top" alt="{{ creator.lastname }}">
                        <div class="card-body">
                            <h5 class="card-title">{{ creator.firstname }} {{ creator.lastname }}</h5>
                            <p class="card-text">
            {% if creator.knownfordepartment == "Acting" %}
            Herec
            {% elif creator.knownfordepartment == "Directing" %}
            Režisér
            {% elif creator.knownfordepartment == "Production" %}
            Producent
            {% elif creator.knownfordepartment == "Writing" %}
            Scénárista
            {% else %}
            Těžko říct
            {% endif %} - {{ creator.birthdate|date:"d.m.Y"  }}
                            </p>
                            <a href="/tvurce/{{ creator.url }}" class="btn btn-primary">{{ creator.lastname }}, {{ creator.firstname }}</a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>}
{% endcomment %}
        </div>






                <!-- Boční panel pro přihlášení a informace o vývoji -->
                <div class="col-lg-4">
                    <!-- Sekce přihlášení uživatele -->
                    <div class="card mb-4  article-section">
                        <div class="card-body">

{% if user.is_authenticated %}
                            <h5 class="card-title">{{ user.username }}! </h5>

    <p>Vítejte, {{ user.username }}! <!--<a href="{% url 'logout' %}">Odhlásit se</a>--></p>
{% else %}
                            <h5 class="card-title">Přihlášení uživatele</h5>
    <h4>Přihlášení</h4>
    <form method="post" action="{% url 'login' %}">
        {% csrf_token %}
        {{ form.username.label_tag }}
        {{ form.username }}
        {{ form.password.label_tag }}
        {{ form.password }}
        <button type="submit" class="btn btn-primary">Přihlásit se</button>
    </form>
    <div class="mt-3">
        <p>Nemáte účet? <a href="{% url 'signup' %}">Registrace</a></p>
    </div>
{% endif %}
                        </div>
                    </div>







{% if user.is_authenticated %}
                    <div class="card mb-4">
                        <div class="card-body">
                            <h5 class="card-title">DIV.cz</h5>
<p>Chcete se zapojit do něčeho vzrušujícího? Právě teď máte možnost! Hodnoťte filmy na DIV.cz a za každých 50 ohodnocených filmů získáváte šanci vyhrát lístky do kina! Je to jednoduché - čím více filmů ohodnotíte, tím větší je vaše šance vyhrát!</p>
<p>Zapoj se <strong>{{ user.username }}</strong> a vyhraj! <a href="https://div.cz/soutez-o-listky-do-kina">Podmínky a podrobnosti soutěže</a>.</p>
                        </div>
                    </div>
{% else %}
                    <div class="card mb-4">
                        <div class="card-body">
                            <h5 class="card-title">DIV.cz</h5>
<p>DIV.cz je stránka, která propojuje <a href="/knihy/">knihy</a>, filmy a hry skrze postavy, lokality a další metadatabáze.</p>
<p>Aktuálně je hotová filmová část a intenzivně se pracuje na knižní. Buď u zrodu a <a href="{% url 'signup' %}">zaregistruj se</a>. Zabere jen deset vteřin! Navíc můžeš vyhrát lístky do kina: <a href="https://div.cz/soutez-o-listky-do-kina">Podmínky a podrobnosti soutěže</a>
                        </div>
                    </div>
{% endif %}


                    <div class="card mb-4">
                        <div class="card-body">
                            <h5 class="card-title">O čem to je:</h5>
<p>Vítejte na DIV.cz, unikátním místě, kde se propojují <strong><span class="white bgred">filmy</span></strong>, <strong><span class="white bggreen">knihy</span></strong> a <strong><span class="white bgblue">hry</span></strong>. Objevujte fascinující světy, postavy a příběhy napříč různými médii. Připojte se k naší komunitě nadšenců a objevujte, diskutujte a sdílejte své zážitky z filmů, knih a her.</p>
                        </div>
                    </div>



                    <!-- Sekce informace o vývoji -->
                <div class="card mb-4">
                    <div class="card-body">
                        <h5 class="card-title">Kam směřujeme</h5>
                            <ul>
            <li><strike>04/2024 <a href="/filmy/">filmy</a></strike> (Téměř hotovo)</li>
            <li>06/2024 knižní sekce</li>
            <li>08/2024 herní sekce</li>
            <li>10/2024 postavy</li>
            <li>10/2024 lokality</li>
            <li>Vývoj pro iOS a android</li>
            <li>Program ambasadarů</li>
            <li>Interní fórum</li>
            <li>Uživatelské recenze</li>
            <li>Soutěže a výzvy</li>
            <li>Seriály (v přípravě)</li>
                            </ul>
                     </div>
                </div><!-- / card mb-4-->


                    <!-- Sekce informace o vývoji -->
                <div class="card mb-4">
                    <div class="card-body">
                        <h5 class="card-title">Statistika 20.5.24</h5>
                            <ul>
              <li>Filmů: 1.022.007 <s style="font-size:90%">(986.383)</s></li>
                <li>Knih: 775.547 <s style="font-size:90%">(126.367)</s></li>
                <li>Her: 1 <s style="font-size:90%">0</s></li>
                <li>Herců: 1.303.957 <s style="font-size:90%">(724.752)</s></li>
                <li>Spisovatelů: 142.204 <s style="font-size:90%">(139.089)</s></li>
                <li>Postav: 1.531.287  <s style="font-size:90%">(317.800)</s></li>
                <li>Lokalit: 
                        <ul>
                            
                            <li>Měst: 2506</li>
                            <li>Lokalit: 45</li>
                            <li>Zemí: 337</li>
                            <li>Ulic: 1</li>
                            <li>Universa: 1</li>
                        </ul>
                <s style="font-size:90%">44</s>
                         </li>
                <li>Uživatelů: 274 <s style="font-size:90%">225</s></li>
                <li>Hodnocení: 435.466 <s style="font-size:90%">136.232</s></li>
                            </ul>
                     </div>
                </div><!-- / card mb-4-->




        </div><!--/ boční panel -->
    </div><!-- / row -->
</section>
</main>


{% include "inc/footer.html" %}

<script>
// == CAROUSE ===
document.addEventListener('DOMContentLoaded', function() {
    var banners = document.querySelectorAll('#random-banner-container .banner');
    var randomIndex = Math.floor(Math.random() * banners.length); // Generuje náhodný index
    banners[randomIndex].style.display = 'block'; // Zobrazí náhodně vybraný banner
});

// === === ===

$(document).ready(function() {
    // Initialize DataTable
    var table = $('#moviesTable').DataTable();

    // Apply the filter
    $('#genresFilter, #ratingFilter').on('change', function() {
        table.draw();
    });

    // Custom filtering function
    $.fn.dataTable.ext.search.push(
        function(settings, data, dataIndex) {
            var genres = $('#genresFilter').val();
            var minRating = $('#ratingFilter').val();

            var rowGenres = data[2]; // Genres is in the second column
            var rowRating = parseInt(data[3].split('/')[0]); // Extract rating from format "X/10"

            if ((genres === "" || genres === rowGenres) && (minRating === "0" || rowRating >= minRating)) {
                return true; // Show row
            }
            return false; // Hide row
        }
    );
});

$('#moviesTable').DataTable({
    "language": {
        "lengthMenu": "Zobrazit _MENU_ záznamů",
        "zeroRecords": "Žádné záznamy nebyly nalezeny",
        "info": "Strana _PAGE_ z _PAGES_",
        "infoEmpty": "Žádné záznamy k dispozici",
        "infoFiltered": "(vyfiltrováno z celkem _MAX_ záznamů)",
        "search": "Hledat:",
        "paginate": {
            "first":      "První",
            "last":       "Poslední",
            "next":       "Další",
            "previous":   "Předchozí"
        },
    },

    "order": [[ 0, "desc" ]],
    "pageLength": 25
});


</script>


</body>
</html>
