<!-- upravit ocenění -->
{% extends "awards/base.html" %}
{% load static %}

{% block title %}{{ action }} ocenění - Admin - DIV.cz{% endblock %}

{% block meta %}

{% endblock %}

{% block content %}

    <h2 style="width: 100%;"><a href="{% url 'awards_index' %}"
        class="{% if award.awardtype == 'film' %}movies
               {% elif award.awardtype == 'book' %}books
               {% elif award.awardtype == 'game' %}games{% endif %}">Ocenění</a>
        <span>/</span>
        <a href="{% url 'admin_awards' %}"
        class="{% if award.awardtype == 'film' %}movies
               {% elif award.awardtype == 'book' %}books
               {% elif award.awardtype == 'game' %}games{% endif %}">Správa ocenění</a>
        <span>/</span>
        <span class="active">{{ action }} ocenění</span>
    </h2>

    {% if award %}
        <p class="admin-subtitle">
            Upravujete ocenění: <strong>{{ award.awardname }} ({{ award.year }})</strong>
        </p>
    {% else %}
        <p class="admin-subtitle">Přidejte nové ocenění do databáze</p>
    {% endif %}

    <div class="admin-panel">
        <h2 class="after">
            {% if award %}&#9999; Upravit ocenění{% else %}Nové ocenění{% endif %}
        </h2>

        <div class="admin-panel-body">
            <form method="post" novalidate>
                {% csrf_token %}

                {% if form.non_field_errors %}
                    <div class="admin-alert">
                        {% for error in form.non_field_errors %}
                            <div>{{ error }}</div>
                        {% endfor %}
                    </div>
                {% endif %}

                <div class="form-grid">
                    <div class="form-field">
                        <label>{{ form.awardname.label }} <span class="req">*</span></label>
                        {{ form.awardname }}
                        {% for error in form.awardname.errors %}
                            <div class="field-error">{{ error }}</div>
                        {% endfor %}
                    </div>

                    <div class="form-field small">
                        <label>{{ form.year.label }} <span class="req">*</span></label>
                        {{ form.year }}
                        {% for error in form.year.errors %}
                            <div class="field-error">{{ error }}</div>
                        {% endfor %}
                    </div>
                </div>

                <div class="form-field">
                    <label>{{ form.awardtype.label }} <span class="req">*</span></label>
                    {{ form.awardtype }}
                    {% for error in form.awardtype.errors %}
                        <div class="field-error">{{ error }}</div>
                    {% endfor %}
                </div>

                <div class="form-field">
                    <label>{{ form.description.label }}</label>
                    {{ form.description }}
                </div>

                <div class="form-buttons">
                    <div>
                        <button type="submit" class="btn 
                            {% if award.awardtype == 'book' %}
                                add-book
                            {% elif award.awardtype == 'film' %}
                                add-movie
                            {% elif award.awardtype == 'game' %}
                                add-game
                            {% else %}
                                btn add
                            {% endif %}">
                            &#128190; {% if award %}Uložit změny{% else %}Uložit ocenění{% endif %}
                        </button>
                        <a href="{% url 'admin_awards' %}" class="btn btn add">&#10060; Zrušit</a>
                    </div>

                    {% if award %}
                    <div>
                        <a href="{% url 'admin_award_nominees' award.metaawardid %}" class="btn add">
                            &#128221; Správa nominací
                        </a>
                        <a href="{% url 'award_detail' award.slug award.year %}" class="btn add">
                            &#128220; Nominace
                        </a>
                    </div>
                    {% endif %}
                </div>

            </form>
        </div>
    </div>

    <div class="admin-panel">
        <h2 class="after">&#10067; Nápověda</h2>

        <div class="admin-panel-body admin-help-grid">
            <div>
                <h4>Příklady názvů ocenění:</h4>
                <ul>
                    <li><strong>Oscar</strong> (film)</li>
                    <li><strong>Zlatý glóbus</strong> (TV + film)</li>
                    <li><strong>Pulitzerova cena</strong> (literatura)</li>
                    <li><strong>Game Awards</strong> (hry)</li>
                </ul>
            </div>

            <div>
                <h4>Tipy:</h4>
                <ul>
                    <li>Rok = rok udělení</li>
                    <li>Slug se generuje automaticky</li>
                    <li>Popis je volitelný</li>
                    <li>Nominace se přidávají po uložení ocenění</li>
                </ul>
            </div>
        </div>
    </div>

{% endblock %}

