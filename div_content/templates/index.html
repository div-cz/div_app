<!DOCTYPE html>
<html lang="cs">
<head>

    {% include "inc/head.html" %}


<link rel="apple-touch-icon" href="/static/img/site/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="57x57" href="/static/img/site/apple/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="72x72" href="/static/img/site/apple/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/static/img/site/apple/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/static/img/site/apple/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/static/img/site/apple/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/static/img/site/apple/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/static/img/site/apple/apple-touch-icon-152x152.png">

<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>



<meta name="msapplication-square70x70logo" content="/static/img/site/microsoft/div_70.png">
<meta name="msapplication-square150x150logo" content="/static/img/site/microsoft/div_150.png">
<meta name="msapplication-wide310x150logo" content="/static/img/site/microsoft/div_310x150.png">
<meta name="msapplication-square310x310logo" content="/static/img/site/microsoft/div_310.png">

<meta name="msapplication-TileImage" content="/static/img/site/microsoft/div_152.png">
<meta name="msapplication-TileColor" content="#FFFFFF"> 

<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">



<title>DIV.cz | Databáze filmů, her a knih DIV</title>


<style>
.banner {
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* Rozloží obsah mezi horní a spodní částí */
    align-items: flex-start;
    background-size: cover;
    background-position: center;
    width: 100%;
    max-width: 1200px;
    height: 300px;
    margin: 0 auto;
    position: relative; /* Umožní absolutní pozicování vnitřních prvků */
}

.banner h1 {
    margin: 10px;
    background: rgba(255, 255, 255, 0.5);
    padding: 5px 10px;
    max-width: calc(100% - 20px);
}

.banner-caption {
    position: absolute; /* Absolutní pozicování v rámci banneru */
    bottom: 10px; /* Dolní okraj */
    right: 10px; /* Pravý okraj */
    background: rgba(0, 0, 0, 0.5);
    color: rgba(0, 0, 0, 0.8);
    padding: 15px 20px;
    border: 1px solid rgba(255, 255, 255, 0.8);    
    font-size: 1.9rem;
}

@media (max-width: 768px) {
    .banner {
        flex-direction: column;
    }

    .banner-caption {
        position: static; /* Zruší absolutní pozicování */
        align-self: center; /* Zarovná na střed */
        width: 100%;
        text-align: center;
        margin-top: 10px; /* Přidá mezery mezi H1 a caption */
    }
        .carousel-side-image {
        display: block;
    }
}
.card2 {
    height: 350px;
}
/*
a {color: #E31E24 !important}
a:hover {color: #A52B21 !important}*/




</style>
</head>
<body>

    {% include "inc/navbar.html" %}


<main class="mb-5">
    <section class="">
     <!-- Carousel -->


<div id="random-banner-container">
    {% for movie in movies_carousel %}
<div class="banner" style="display:none; background-image: url('https://www.themoviedb.org/t/p/w1066_and_h600_bestv2{{ movie.img }}');">
    <!--<h1>VÍTEJ na testu DIV.cz</h1>-->
    <div class="banner-caption">
        <a href="/film/{{ movie.url }}" class="banner-link">{{ movie.title }}</a>
    </div>
</div>
    {% endfor %}
</div>



<!--

        <div class="carousel-item">
            <img src="https://www.themoviedb.org/t/p/w1066_and_h600_bestv2//67VnQZG179QHYng2871xmtICKbB.jpg" class="d-block w-100" alt="Demon Slayer: Kimetsu No Yaiba – To the Hashira Training">
            <div class="carousel-caption text-left text-white p-3">
                <h5><a href="/film/demon-slayer-kimetsu-no-yaiba-to-the-hashira-training">Demon Slayer: Kimetsu No Yaiba – To the Hashira Training</a></h5>
                <p></p>
            </div>
        </div>
        
        <div class="carousel-item ">
            <img src="https://www.themoviedb.org/t/p/w1066_and_h600_bestv2//uhUO7vQQKvCTfQWubOt5MAKokbL.jpg" class="d-block w-100" alt="The Painter">
            <div class="carousel-caption text-left text-white p-3">
                <h5><a href="/film/duna-cast-druha">Duna: Část druhá</a> (2024)</h5>
                <p>Sledujte mýtickou cestu Paula Atreida, který se spojí …</p>
            </div>
        </div>
        
        <div class="carousel-item">
            <img src="https://www.themoviedb.org/t/p/w1066_and_h600_bestv2/dvpzY91fvfcWSYgb0Xlan2NNLLU.jpg" class="d-block w-100" alt="Opičí muž">
            <div class="carousel-caption text-left text-white p-3">
                <h5><a href="/film/opici-muz">Opičí muž</a> (2024)</h5>
                <p>Příběh o pomstě, jehož protagonistou je obyčejný kluk …</p>
            </div>
        </div>
        
        <div class="carousel-item active">
            <img src="https://www.themoviedb.org/t/p/w1066_and_h600_bestv2/uLhWh1pggjIiQ1DpL0DvaIgERQR.jpg" class="d-block w-100" alt="Království planeta opic">
            <div class="carousel-caption text-left text-white p-3">
                <h5><a href="/film/kralovstvi-planeta-opic">Království planeta opic</a> (2024)</h5>
                <p>Příběh z Planety opic, který se odehrává několik generací …</p>
            </div>
        </div>
-->

    </section>


    </div>
</div>




<section class="container my-4">
    <div class="row">

        <!-- Hlavní sekce -->
        <div class="col-lg-8">


<!--<h2 class="mb-4">Poslední články</h2>-->
<!-- Sekce článků -->
<h2 class="mb-4">Seznam článků</h2>
<div class="row">
    {% for article in articles %}
    <div class="col-md-6 mb-3">
        <div class="card">
            <img src="https://image.tmdb.org/t/p/w300{{ article.img }}" class="card-img-top" alt="{{ article.title }}">
            <div class="card-body">
                <h5 class="card-title">{{ article.title }}</h5>
                <p class="card-text">{{ article.perex|truncatewords:20 }}</p>
                <a href="{{ article.url }}" class="btn btn-primary">Více informací</a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>



<div class="row">
    <div class="col-12">
        <div class="card mb-4 p-4">
<p>Chcete se zapojit do něčeho vzrušujícího? Právě teď máte možnost! Hodnoťte filmy na DIV.cz a za každých 50 ohodnocených filmů získáváte šanci vyhrát lístky do kina! Je to jednoduché - čím více filmů ohodnotíte, tím větší je vaše šance vyhrát!</p>

 {% if user.is_authenticated %}
<p>Zapoj se {{ user.username }} a vyhraj! <a href="https://div.cz/soutez-o-listky-do-kina">Podmínky a podrobnosti soutěže</a>.</p><!--<a href="{% url 'logout' %}">Odhlásit se</a>-->
    
<!--{% if request.user.is_superuser %}
<p>Já jsem superuser, už jsem vyhrál! :D</p>
{% else %}
{% endif %}-->

{% else %}

<p>Nemáte účet? <a href="{% url 'signup' %}">Registruj se</a>, zabere jen deset vteřin! <a href="https://div.cz/soutez-o-listky-do-kina">Podmínky a podrobnosti soutěže</a>.</p>

{% endif %}

        </div>
    </div>
</div>




            <!-- Sekce filmů -->
            <h2 class="mb-4">Seznam filmů</h2>
            <div class="row">
                {% for movie in movies_list_6 %}
                <a href="/film/{{ movie.url }}"><div class="col-md-4 col-sm-6 col-6 mb-3">
                    <div class="card card2">
                        <img src="https://www.themoviedb.org/t/p/w1066_and_h600_bestv2/{{ movie.img }}" class="card-img-top" alt="{{ movie.title }}">
                        <div class="card-body">
                            <h5 class="card-title"><a href="/film/{{ movie.url }}">{{ movie.title }}</a></h5>
                            <p class="card-text">{{ movie.description|truncatewords:10 }}</p>
                            <!--<a href="/film/{{ movie.url }}" class="btn btn-primary">{{ movie.title|truncatewords:3 }}</a>-->
                        </div>
                    </div>
                </div></a>
                {% endfor %}
            </div>
 
            <!-- Sekce nejnovějších uživatelských komentářů k filmům -->

          <h2 class="mb-4">Nejnovější filmové komentáře</h2>
          <div class="row">
            {% for comment in movies_comments_9 %}
            <div class="col-md-4 col-sm-6 col-6 mb-3">
              <div class="card">
                <div class="card-body">
                  <p class="card-text">
                    Komentář u filmu:<br>
                    <a href="/film/{{ comment.movieid__url }}">{{ comment.movieid__titlecz }}</a>
                  </p>
                  <p class="card-text"><i>{{ comment.comment|truncatewords:10 }}</i></p>
                  Uživatel: <a href="/uzivatel/{{ comment.user }}">{{ comment.user__username }}</a>
                </div>
              </div>
            </div>
            {% endfor %}
            </div>





            <!-- Sekce uživatelů -->
            <h2 class="mb-4">Nejaktivnější uživatelé</h2>
            <div class="row">
                {% for user in users_list_4 %}
                <div class="col-md-4 col-sm-6 col-6 mb-3">
                    <div class="card">
                        <img src="https://div.cz/static/img/creator/noperson.svg" class="card-img-top" alt="{{ user.username }}" style="max-width: 100px; margin: 0 auto; display: block;">
                        <div class="card-body">
                            <h5 class="card-title">
                                <a href="/uzivatel/{{ user.id }}">{{ user.username }}</a>
                            </h5>
                            <p class="card-text">
                                Počet hodnocení: {{ user.rating_count }}
                            </p>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
{% comment %}
            <!-- Sekce výročí osobností -->
            {<h2 class="mb-4">Výročí osobností</h2>
            <div class="row">
                {% for creator in creators_list_8 %}
                <div class="col-lg-3 col-md-3 col-sm-6 col-6 mb-3">
                    <div class="card">
                        <img src="https://www.themoviedb.org/t/p/w1066_and_h600_bestv2/{{ creator.img }}" class="card-img-top" alt="{{ creator.lastname }}">
                        <div class="card-body">
                            <h5 class="card-title">{{ creator.firstname }} {{ creator.lastname }}</h5>
                            <p class="card-text">
            {% if creator.knownfordepartment == "Acting" %}
            Herec
            {% elif creator.knownfordepartment == "Directing" %}
            Režisér
            {% elif creator.knownfordepartment == "Production" %}
            Producent
            {% elif creator.knownfordepartment == "Writing" %}
            Scénárista
            {% else %}
            Těžko říct
            {% endif %} - {{ creator.birthdate|date:"d.m.Y"  }}
                            </p>
                            <a href="{% url 'creator_detail' creator.url %}" class="btn btn-primary">{{ creator.lastname }}, {{ creator.firstname }}</a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>}
{% endcomment %}
        </div>






                <!-- Boční panel pro přihlášení a informace o vývoji -->
                <div class="col-lg-4">
                    <!-- Sekce přihlášení uživatele -->
                    <div class="card mb-4">
                        <div class="card-body">

{% if user.is_authenticated %}
                            <h5 class="card-title">{{ user.username }}! </h5>

    <p>Vítejte, {{ user.username }}! <!--<a href="{% url 'logout' %}">Odhlásit se</a>--></p>
{% else %}
                            <h5 class="card-title">Přihlášení uživatele</h5>
    <h4>Přihlášení</h4>
    <form method="post" action="{% url 'login' %}">
        {% csrf_token %}
        {{ form.username.label_tag }}
        {{ form.username }}
        {{ form.password.label_tag }}
        {{ form.password }}
        <button type="submit" class="btn btn-primary">Přihlásit se</button>
    </form>
    <div class="mt-3">
        <p>Nemáte účet? <a href="{% url 'signup' %}">Registrace</a></p>
    </div>
{% endif %}
                        </div>
                    </div>



                    <div class="card mb-4">
                        <div class="card-body">
                            <h5 class="card-title">Newsletter</h5>
<p><script src="https://front.boldem.cz/boldem.js?uc=556801&wg=23372300-2592-4134-bfdb-413c5e8794ad&sc=0" type="text/javascript"></script></p>
                        </div>
                    </div>



                    <div class="card mb-4">
                        <div class="card-body">
                            <h5 class="card-title">O čem to je:</h5>
<p>Vítejte na DIV.cz, unikátním místě, kde se propojují <strong><span class="white bgred">filmy</span></strong>, <strong><span class="white bggreen">knihy</span></strong> a <strong><span class="white bgblue">hry</span></strong>. Objevujte fascinující světy, postavy a příběhy napříč různými médii. Připojte se k naší komunitě nadšenců a objevujte, diskutujte a sdílejte své zážitky z filmů, knih a her.</p>
                        </div>
                    </div>



                    <!-- Sekce informace o vývoji -->
                <div class="card mb-4">
                    <div class="card-body">
                        <h5 class="card-title">Kam směřujeme</h5>
                            <ul>
            <li><strike>04/2024 <a href="/filmy/">filmy</a></strike> (Téměř hotovo)</li>
            <li>06/2024 knižní sekce</li>
            <li>08/2024 herní sekce</li>
            <li>10/2024 postavy</li>
            <li>10/2024 lokality</li>
            <li>Vývoj pro iOS a android</li>
            <li>Program ambasadarů</li>
            <li>Interní fórum</li>
            <li>Uživatelské recenze</li>
            <li>Soutěže a výzvy</li>
            <li>Seriály (v přípravě)</li>
                            </ul>
                     </div>
                </div><!-- / card mb-4-->


                    <!-- Sekce informace o vývoji -->
                <div class="card mb-4">
                    <div class="card-body">
                        <h5 class="card-title">Statistika 1.4.24</h5>
                            <ul>
              <li>Filmů: 986.383</li>
                <li>Knih: 126.367</li>
                <li>Her: 0</li>
                <li>Herců: 724.752</li>
                <li>Spisovatelů: 139.089</li>
                <li>Postav: 317.800</li>
                <li>Lokalit: 44</li>
                <li>Zemí: 337</li>
                <li>Uživatelů: 225</li>
                <li>Hodnocení: 136232</li>
                            </ul>
                     </div>
                </div><!-- / card mb-4-->




        </div><!--/ boční panel -->
    </div><!-- / row -->
</section>
</main>


{% include "inc/footer_movies.html" %}

<script>
// == CAROUSE ===
document.addEventListener('DOMContentLoaded', function() {
    var banners = document.querySelectorAll('#random-banner-container .banner');
    var randomIndex = Math.floor(Math.random() * banners.length); // Generuje náhodný index
    banners[randomIndex].style.display = 'block'; // Zobrazí náhodně vybraný banner
});

// === === ===

$(document).ready(function() {
    // Initialize DataTable
    var table = $('#moviesTable').DataTable();

    // Apply the filter
    $('#genresFilter, #ratingFilter').on('change', function() {
        table.draw();
    });

    // Custom filtering function
    $.fn.dataTable.ext.search.push(
        function(settings, data, dataIndex) {
            var genres = $('#genresFilter').val();
            var minRating = $('#ratingFilter').val();

            var rowGenres = data[2]; // Genres is in the second column
            var rowRating = parseInt(data[3].split('/')[0]); // Extract rating from format "X/10"

            if ((genres === "" || genres === rowGenres) && (minRating === "0" || rowRating >= minRating)) {
                return true; // Show row
            }
            return false; // Hide row
        }
    );
});

$('#moviesTable').DataTable({
    "language": {
        "lengthMenu": "Zobrazit _MENU_ záznamů",
        "zeroRecords": "Žádné záznamy nebyly nalezeny",
        "info": "Strana _PAGE_ z _PAGES_",
        "infoEmpty": "Žádné záznamy k dispozici",
        "infoFiltered": "(vyfiltrováno z celkem _MAX_ záznamů)",
        "search": "Hledat:",
        "paginate": {
            "first":      "První",
            "last":       "Poslední",
            "next":       "Další",
            "previous":   "Předchozí"
        },
    },

    "order": [[ 0, "desc" ]],
    "pageLength": 25
});


</script>


</body>
</html>
